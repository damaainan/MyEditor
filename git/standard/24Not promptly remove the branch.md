# `发生过程`

功能分支合并到master后没有删除

## 发生描述：
* 功能分支测试完成
* 提merge request 
* 在codereview时未发现这个问题，将代码合并到了master
* 代码上线前发现了问题，从master重新拉出hotfix-日期-2的分支
* 功能分支做了简单修改
* 创建了指向新hotfix分支的merge rquest 
* 进行上线流程

# `危害`

## 1.危害范围

(1)日常开发

(2)上线时间

(3)线上出现问题后的排查范围

## 2.危害认识

(1)影响日后类似功能的日常开发

1、有类似功能又在此分支中开发，分支保留时间过长

2、若不及时合并最新master

3、再次merge提交会覆盖当前已经上线的功能

(2)影响同事及自己的上线时间

1、当前分支保留时间过长

2、合并master时可能会有冲突

3、解决冲突导致延误上线时间

(3)影响上线之后系统的稳定性及可维护性

1、因为分支的生命周期人为的延长，增加了图形阅读的时间成本

2、而阅读的成本，进而影响系统的上线时间及维护成本

# `解决方案`

## 操作

1、从master重新拉出feature分支

2、`删除`原功能分支

2、重新`提交merge request`

3、测试通过后，执行上线流程

4、hotfix合并会master ，打tag

## 原则

* master 是稳定分支

* 其他分支 都是不稳定分支

* 在“Merge Requests” 页面新建“merge request”,可以选择分支，避免默认的master问题。

* 合并到master分支后，该功能分支生命周期既已结束

* 如需再次上线要重新创建修复分支


# `相关资料链接`

## GIT操作手册

http://dev45.gitlab.miyabaobei.com/git/demo/wikis/home#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83 