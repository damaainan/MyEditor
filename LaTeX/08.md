# LaTeX笔记（八）——数学建模专题

 时间 2017-09-18 21:56:48  

原文[https://zhuanlan.zhihu.com/p/29448503][1]



![][3]

大家好，大家期待已久的LaTeX笔记终于更新了！

趁热打铁，数学建模竞赛刚刚结束十几个小时，我就赶出了这篇文章。

看到标题之后，我相信有很多正在阅读这篇文章的人，已经有相当多的mmp要说了。并且我觉得还有很多和我一样的successful participants可能现在还在睡觉……

数学建模竞赛可以说是大学期间参加的范围最广，耗费精力最大，同时也是最高级别的一场理工科的赛事了。今年题目开始越来越多的和物理，机械，集成等方向打交道，因此如果队友有在这些方面涉及的，会容易很多。

当然了，容易很多的意思，只是你可能心态不会爆炸而已， **该忙的还是要忙的** …… 

我在比赛过程负责了80%左右的论文和40%左右的代码（负责写C++），我的队友都是比我大一届的学长，一个是学通信工程的，一个是学建筑的。结果学通信的全程carry模型，学建筑的主要写代码（MATLAB）……我一个学数学的，数学没学好，建模也没建，所以来这个比赛我的意义估计就是划水吧。

Anyway虽然暑假期间培训巨水无比，并且我写的统计学的文章也没有更完，没有发挥太大的作用，但是建模的三天期间，我们真实的感受到了这个比赛的压力，也算是治好了我多年的懒癌吧，作用还是很大的。

福建赛区的话一般是在十二月出公示名单，全国的名单也要在十一月底公布，因此这个比赛打的怎么样，这个也就没有太大的企盼的意义了，我们三人在建模过程，每天也只睡了四个多小时（当然了，这是我，队友的话大概三个多小时），并且可以说各种思想方法都甩了上去，论文也改了好几遍。这样的话，没有太大的遗憾了（虽然我们发现还是漏了一点东西），拿不到就拿不到了（至少要给个S奖给我吧，结果发现国赛没有……），默默接受它就好。Cest la vie.

这一部分的专题内容是LaTeX的 **专题部分** ，因为在写这一部分的内容的时候，还没有对格式要求太多，所以为了整个教程的系列完整性，我并没有再在文章标题上下功夫。但是作为专题，它和之前我写的系列教程显然是不同的，专题部分的内容不会按照逻辑一条线往下理，而是 **一个部分一个部分的按照知识点的方式** 去叙述。各部分之间可以独立开，因此这篇文章你根本 **不需要从头看到尾** ，当作note去查即可。 

这篇文章会根据前面七篇的完整教程，在数学建模比赛的背景下补充一些之前没有提到的知识点。

好的，引入就写到这里吧。

提供之前笔记的目录：

* [LaTeX笔记（一）][4]
* [LaTeX笔记（二）][5]
* [LaTeX笔记（三）][6]
* [LaTeX笔记（四）][7]
* [LaTeX笔记（五）][8]
* [LaTeX笔记（六）][9]
* [LaTeX笔记（七）][10]

下面我们开始正文，因为没有逻辑性，所以专题文章也 **没有目录** 。 

## 1.文档类别

不同于我们之前花大力气说明的article和book类，数学建模大赛提供了专门的文档类cumcmart，一般来说每个学校都会提供数学建模比赛使用的LaTeX模板，文件夹里面会有很多支撑这个文档类运行的材料，不要弄丢它们。

也就是说，数学建模的文章是在模板里去填东西，当然只是一小部分了。

这地方提两点：

1. 提交支撑材料的时候不要提交tex，有的地方tex带有学校信息，算违规。
1. 学校弄的模板往往不太友好，编码规范往往一塌糊涂……这就意味着TeXStudio在这里会报废……因此我全程都是使用了winedt……

## 2.宏包问题

建模比赛的模板会使用大量你以前从来没见过的宏包（我也没见过），一般来说不用动它就好，到排到一个地方的时候去多关注一下就行了。

## 3.换行

我们在之前提到，换行的命令是\\，但是在建模中，因为我们排版的是中文的论文，因此我们推荐是\par，这个命令可以做到换行+空两格的效果，符合中国人的习惯。

## 4.三线表

我们之前表格的时候没有提到三线表，但是这个在建模中是必需的，诸如符号说明和最终结果的呈现，考虑到规范都是使用三线表的。

这个部分的代码如下

    \begin{longtable}[htbp!]{l|lll}
    \toprule
    符号&解释&\\
    \midrule
    $\delta$&控制器单元之间的距离$(mm)$\\
    $D$&圆的直径$(mm)$\\
    $\Delta N$&附件中上边界与下边界的行坐标之差(格)\\
    $m$&总计投影数据组数\\
    $I$&射线强度\\
    $I_0$&入射X光强度\\
    $l$&穿透物体厚度\\
    $\mu$&衰减系数\\
    $\beta$&处理前的吸收率\\
    $\beta^{'}$&处理后的吸收率\\
    $\alpha$&增益系数\\         
    $\Delta n_i$&附件中第i组数据的上边界与下边界的行坐标之差(格)\\
    $\theta$&旋转角\\
    $A$&垂足值\\
    $S$&投影点数值之和\\
    $a$&椭圆长半轴长度\\
    $b$&椭圆短半轴长度\\
    $\varepsilon$&误差值\\
    \bottomrule
    \end{longtable}

显示的结果如下

![][11]

（能看出我们做的哪一题不？）

我们对于命令做一些解释

* longtable环境：生成长表格，之后解释
* \toprule,\midrule,\bottomrule，生成三线表的三个必需命令，分别代表生成顶线，中间线和底线，三线表的名字就这么来的。
* 三线表命令环境需要引入booktabs宏包
* longtable也要引入longtable宏包

其余的内容如果不明白，就需要到前面查对应的笔记了。

## 5.长表格

表格在tex中被认为是盒子结构，因此形状固定，不够灵活，所以在表格需要跨页的时候就会非常麻烦。因此长表格也是很重要的结构，它可以轻松跨页，很灵活。

事实上，生成长表格的时候，只需要把环境改为longtable，按照图形的放置方式设置即可，内部表格的设计方法和普通表格没有区别。

当然了，它需要longtable宏包。

长表格示例如下

![][12]

在上一个部分中已经贴出了长表格的代码，所以这里不再举例。

**注意** ：长表格因为要处理跨页，所以需要编译3次才可使表格正常运行。 

## 6.[htbp!]

**这是啥？**

使用过figure环境的人都知道，这玩意就和CSS里面的浮动一样，极度不友好。因此这个命令很简单，就是规定图的位置，让它不要乱跑。

htbp!是一个可选参数，因此放到了中括号内，代码规范如下

    \begin{figure}[htbp!]
    \end{figure}

## 7.table与tabular

顾名思义，这两个环境都与表格有关。但是我们在说表的时候只说过tabular环境，并且在之后会有一个必选参数，用于标记表格的每一列的对齐等规范。但是table呢？

table的目的就是把 **表格给图片化** 。也就是说，被table环境框起来的东西，会被认为是图片，因此也就适用于上面刚说的[htbp!]参数。 

在建模中，大量的插入表格也是很常见的，因此这个方法可以让表格也更加的正常。

当然了，也可以在tabular环境中加入\centering命令控制表格中心对齐。

**注意** ：longtable环境兼有这两个功能，它需要提供列对齐规范，但它其实是个图片。 

**注意** ：tex内部对图片有计数器的处理，也就是说如果你插入标题(\caption)，就会有诸如figure 1,figure 2这样的计数器出现，如果表格被图片化了也会如此(table 1,table 2)， **但是** ！longtable和table的表格计数器不同，因此个人推荐论文中如果出现长表格，最好所有的表格都使用长表格，如果你不会调计数器的话。 

## 8.公式标号

论文规范中，每一步的数学公式都是需要单独列一行，并且在之后标记序号的。但是传统的行间公式是显然不够的，因此需要在行间公式外套一层equation环境。

不过也有一种办法是用`\[`和`\]`去套equation环境，我试过了，好像都能出结果。

奇怪的是， **它会报错，但是跳过错误之后，运行的结果完全正确** ……我还没有找到答案，大佬们看到这边可以留意下这个问题，征解！ 

## 9.多行公式

这个需要使用cases环境，并且这个环境本身需要在数学公式的运行环境下。

提供一个例子

    \[
    \begin{equation}
    \begin{cases}
    x \cos \theta_1+y \sin \theta_1 =d_1\\
    x \cos \theta_2+y \sin \theta_2 =d_2\\
    \end{cases}
    \end{equation}
    \]

显示的结果如下

![][13]

（从论文中摘抄下来的，所以标号是(6)）

## 10.多图并排

TeX图表被人诟病的原因就是浮动，很难控制，同时没有办法并排放。但是通过minipage环境可以解决这个问题。

从论文中摘抄下来的一部分如下

    \begin{figure}[htbp!]
    \begin{minipage}{0.48\linewidth}
    %\begin{figure}[htbp!]
    \centering
    \includegraphics[width=3.01in]{figure_14.png}
    \caption{附件3的三维图形}
    \end{minipage}
    \hfill
    \begin{minipage}{0.48\linewidth}
    %\end{figure}\par
    %\begin{figure}[htbp!]
    \centering
    \includegraphics[width=3.01in]{figure_15.png}
    \caption{附件5的三维图形}
    \end{minipage}
    %\end{figure}\par
    \end{figure}

显示的结果如下

![][14]

这里解释一下

* minipage环境内的所有操作都和figure是相同的，但是一系列的minipage需要在外面加一层figure环境。
* minipage之后有一个必选参数是来规定这个小页面的大小的。设置好之后，如果图片比这个要宽，多余部分会被截去。
* \hfill用来让一行的各物件均匀分布。具体可以查看之前的第4-5节笔记。

**注意** ：如果插入2行2列的四张图片，那么需要使用\hfill,\vfill,\hfill（想一想为什么这么排） 

## 11.常见又陌生的希腊字母和公式符号

常见在书本，陌生在命令。这里列举几个之前没有提到的

* \Delta。所有希腊字母都是这个规律，大写的话开头命令的字母变为大写。
* \varepsilon。用于表示误差的艾普西隆（ε），但是！注意，我们使用的是 **变体** ！如果要使用变体希腊字母，开头要加var
* \binom{}{}。这个用于生成组合数，比如\binom{a}{b}就是 

![][15]

，它表示C(b,a)

## 12.小结

tex是讲不完的！这篇文章只是把大概的排版问题做了梳理，但是实际建模中，诸如符号等命令细节内容可能依然是之前没有看过的，这个时候， **百度，wiki都是你的最佳选择** 。 

希望大家明年建模愉快！

就先写到这里了，希望大家支持点赞收藏赞赏~比心~~




[1]: https://zhuanlan.zhihu.com/p/29448503
[3]: http://img1.tuicool.com/Z7VJja7.png
[4]: https://zhuanlan.zhihu.com/p/22959784
[5]: https://zhuanlan.zhihu.com/p/23040441?refer=xmucpp
[6]: https://zhuanlan.zhihu.com/p/23507834?refer=xmucpp
[7]: https://zhuanlan.zhihu.com/p/24329491
[8]: https://zhuanlan.zhihu.com/p/24339981
[9]: https://zhuanlan.zhihu.com/p/24394912
[10]: https://zhuanlan.zhihu.com/p/24841513
[11]: http://img1.tuicool.com/QVFJFfn.png
[12]: http://img2.tuicool.com/Bj67Bvf.png
[13]: http://img2.tuicool.com/nee2uuB.png
[14]: http://img1.tuicool.com/6NbErmv.png
[15]: http://img0.tuicool.com/NZbEriv.png
